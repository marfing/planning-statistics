<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">        
        <title>{% block title %}Welcome!{% endblock %}</title>
        <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="{{asset('/bootstrap/css/bootstrap.min.css')}}">
        <!-- Custom CSS -->
        <link rel="stylesheet" href="{{ asset('/css/sidebar/style.css')}}">
        <!-- Fontawesome CSS -->
        <link href="{{ asset('/fontawesome/css/all.css') }}" rel="stylesheet"> <!--load all styles -->
        {% block stylesheets %}{% endblock %}

        <script src="{{ asset('/js/jquery-3.3.1.js') }}"></script>
        <!-- Bootstrap JS -->
        <script src="{{ asset('/bootstrap/js/bootstrap.min.js') }}"></script> 
        <!-- Font Awesome JS -->
        <script defer src="{{ asset('/fontawesome/js/all.js') }}"></script>
        <!-- jQuery CDN - Slim version (=without AJAX) -->
        <script src="{{asset('/js/jquery-3.3.1.slim.min.js')}}" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <!-- Popper.JS -->
        <script src="{{asset('/js/popper.min.js')}}" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    </head>

    <body>
    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <h4>tiscali: planning</h4>
            </div>
            <ul class="list-unstyled components">
                <p>Planning services</p>
                <li>
                    <a href="{{ path('home')}}" class="nav-link">
                        <i class="fas fa-home mr-2"></i>
                        <span>Home</span>
                    </a>
                </li>
                {% if is_granted('ROLE_B2B') or is_granted('ROLE_PLANNING')%}
                <li class="active">
                    <a href="#fattibilitàSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fa fa-wrench mr-2"></i>
                        <span>Fattibilità</span>
                    </a>
                    <ul class="collapse list-unstyled" id="fattibilitàSubmenu">
                        <li class="active">
                            <a href="#fattibilitàVoce" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                            <i class="fas fa-phone mr-2"></i>
                            <span>Voce</span>
                            </a>
                            <ul class="collapse list-unstyled" id="fattibilitàVoce">
                                {% if is_granted('ROLE_B2B') %}
                                <li class="active">
                                    <a href="{{ path('feasibility_b2b_new')}}">
                                        <i class="fa fa-user-tie mr-2"></i>
                                        <span>New</span>
                                    </a>
                                </li>
                                {% endif %}
                                <li class="active">
                                    <a href="{{ path('feasibility_b2b_index')}}">
                                        <i class="fas fa-list-ul mr-2"></i>
                                        <span>List</span>
                                    </a>
                                </li>
                                <li class="active">
                                    <a href="#">
                                        <i class="fas fa-arrows-alt mr-2"></i>
                                        <span>Wholesale</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                {% endif %}
                {% if is_granted('ROLE_PLANNING') %}
                <li class="active">
                    <a href="#erlangbSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-microphone-alt mr-2"></i>
                        <span>ErlangB</span>
                    </a>
                    <ul class="collapse list-unstyled" id="erlangbSubmenu">
                        <li>
                            <a href="{{ path('erlangb')}}">
                                <i class="fa fa-phone-volume mr-2"></i>
                                <span>Erlang</span>
                            </a>
                        </li>
                        <li>
                            <a href="{{ path('erlangb_minutes')}}">
                                <i class="fas fa-clock mr-2"></i>
                                <span>Minutes</span>
                            </a>
                        </li>
                    </ul>
                </li>
                {% endif %}
                {% if is_granted('ROLE_GUEST') %}
                <li class="active">
                    <a href="#netelementsSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                        <i class="fas fa-server mr-2"></i>
                        <span>Network Elements</span>
                    </a>
                    <ul class="collapse list-unstyled" id="netelementsSubmenu">
                        {% if is_granted('ROLE_ADMIN') %}
                        <li>
                            <a href="{{ path('network_element_new')}}">New</a>
                        </li>
                        {% endif %}
                        <li>
                            <a href="{{ path('network_element_index')}}">All</a>
                        </li>
                        {{ render(controller('App\\Controller\\NetworkElementsTypeController::getElementsTypeList')) }}
                    </ul>
                </li>
                {% endif %}
                {% if is_granted('ROLE_ADMIN') %}
                <li class="nav-item">
                    <a href="{{ path('vendor_index')}}" class="nav-link">
                        <i class="fa fa-address-book mr-2"></i>
                        <span>Vendors</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="{{ path('network_elements_type_index')}}" class="nav-link">
                        <i class="fas fa-project-diagram mr-2"></i>
                        <span>Elements Types</span>
                    </a>
                </li>
                {% endif %}
                {% if is_granted('ROLE_PLANNING')%}
                <li class="nav-item">
                    <a href="{{ path('cli_rgn_map')}}" class="nav-link">
                        <i class="fas fa-map-signs mr-2"></i>
                        <span>Map Cli-Rgn</span>
                    </a>
                </li>
                {% endif %}
                {% if is_granted('ROLE_ADMIN') %}
                <li class="nav-item">
                    <a href="{{ path('user_index')}}" class="nav-link">
                        <i class="fas fa-users mr-2"></i>
                        <span>Users</span>
                    </a>
                </li>
                {% endif %}
            </ul>
        </nav>

        <!-- Page Content  -->
        <div id="content" class="mycontent">
            <div class="navbar navbar-expand-lg navbar-light">
                <ul class="navbar-nav bd-navbar-nav flex-row col-md-8">
                    <li class="nav-item">
                         <button type="button" id="sidebarCollapse" class="btn btn-info">
                            <i class="fas fa-align-left"></i>
                            <span>Sposta barra laterale</span>
                        </button>
                    </li>
                </ul>
                <ul class="navbar-nav flex-row ml-md-auto">
                    {% if not app.user %}
                    <li class="nav-item">
                        <a class="btn btn-info" href="{{ path('login')}}">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>Login</span>
                        </a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="btn btn-info ml-2" href="{{ path('logout')}}">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-info ml-2" href="{{ path('user_edit',{'id':app.user.id}) }}">
                            <i class="fas fa-user"></i>
                            <span>{{ app.user.username }}</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>

            {% block body %}{% endblock %}
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
            });
        });
    </script>
    {% block javascripts %}{% endblock %}

    </body>
</html>
